<ion-content class="login-bg">
  <ion-grid fixed>
    <ion-row class="ion-justify-content-center ion-align-items-center" style="min-height: 100vh;">
      <ion-col size="12" size-sm="8" size-md="6" size-lg="4">

        <!-- Botones de idioma -->
        <div class="language-buttons">
          <button class="flag-btn" [class.active]="currentLang === 'en'" (click)="setLanguage('en')">
            <img src="assets/flags/us.png" alt="English" />
          </button>
          <button class="flag-btn" [class.active]="currentLang === 'es'" (click)="setLanguage('es')">
            <img src="assets/flags/co.png" alt="Español" />
          </button>
          <p class="current-lang">
            {{ t('UPDATE.CURRENT_LANG') || 'Idioma actual' }}: {{ currentLang }}
          </p>
        </div>

        <!-- Card actualización -->
        <ion-card class="login-card">
          <ion-card-header>
            <ion-card-title class="login-title">
              {{ t('UPDATE.TITLE') || 'Actualizar Datos' }}
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <form (ngSubmit)="updateProfile()">
              <ion-item class="input-item">
                <ion-label position="floating">{{ t('UPDATE.FIRSTNAME') || 'Nombre' }}</ion-label>
                <ion-input type="text" [(ngModel)]="firstName" name="firstName" required></ion-input>
              </ion-item>

              <ion-item class="input-item">
                <ion-label position="floating">{{ t('UPDATE.LASTNAME') || 'Apellido' }}</ion-label>
                <ion-input type="text" [(ngModel)]="lastName" name="lastName" required></ion-input>
              </ion-item>

              <ion-button expand="block" type="submit" class="btn-main">
                {{ t('UPDATE.SUBMIT') || 'Actualizar' }}
              </ion-button>

              <!-- Botón Cancelar -->
              <ion-button expand="block" fill="outline" class="btn-main-outline" routerLink="/home">
                {{ t('UPDATE.CANCEL') || 'Cancelar' }}
              </ion-button>
            </form>
          </ion-card-content>
        </ion-card>

        <!-- Spinner centrado -->
        <div *ngIf="isLoading" class="spinner-overlay">
          <ion-spinner name="crescent"></ion-spinner>
          <p style="margin-top:10px; font-weight:bold; color:#2c3e50;">
            {{ t('UPDATE.LOADING') || 'Actualizando datos...' }}
          </p>
        </div>

      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
